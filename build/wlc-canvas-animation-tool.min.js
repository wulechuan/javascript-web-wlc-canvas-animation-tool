function wlcCanvasAnimationController(t,a,n){function i(t,a){var n,i,o=/\s*(2d|3d|webgl)\s*/i,s=w.data;"object"==typeof t&&t&&(i=t,"function"==typeof a?this.drawFrame=a:"string"==typeof a&&a.match(o)&&(n=a.trim().toLowerCase(),s.canvasContextType=n)),"object"==typeof a&&a&&(i=a,"function"==typeof t?this.drawFrame=t:"string"==typeof t&&t.match(o)&&(n=t.trim().toLowerCase(),s.canvasContextType=n)),s.canvasContext=w.elements.canvas.getContext(s.canvasContextType),g.bgColor=C.defaultBgColor,e.call(this,i)}function e(t){var a;return a=(t=t||{}).bgColor,wlcCanvasAnimationController.isValidColor(a)&&(g.bgColor=a),a=parseFloat(t.timeOffset),isNaN(a)||(g.timeOffset=a),a=t.drawingFramesCountLimitation,isNaN(a)?g.drawingFramesCountLimitation=NaN:(a=parseInt(t.drawingFramesCountLimitation),isNaN(a)||(g.drawingFramesCountLimitation=a)),"function"==typeof(a=t.drawFrame)&&(this.drawFrame=t.drawFrame),this}function o(){var t,a={elements:{canvas:w.elements.canvas},data:{},state:{}};for(t in w.data)a.data[t]=w.data[t];for(t in w.state)a.state[t]=w.state[t];return a}function s(){return w.elements.canvas}function r(t){var a=w.elements.canvas;return w.data.canvasContext.clearRect(0,0,a.width,a.height),t&&this.stopAnimation(),this}function m(t){var a=w.state;return a.animationIsStopped=!0,a.animationIsPaused=!1,t&&this.clearCanvas(),this}function l(t){var a=w.state;return a.animationIsPaused||a.animationIsStopped?(a.animationIsPaused=!1,a.animationIsStopped=!1,a.animationStartWallTime=(new Date).getTime()-g.timeOffset,a.drawnFramesCount=0,F.drawNextFrame(t),this):this}function d(){var t=w.state;if(!t.animationIsStopped)return t.animationIsPaused=!0,this}function c(){var t=w.state;if(!t.animationIsStopped&&t.animationIsPaused)return t.animationIsPaused=!1,F.drawNextFrame(),this}function u(){var t=((new Date).getTime()-w.state.animationStartWallTime)/1e3;return h.call(this,t)}function f(t){return h.call(this,t).pauseAnimation()}function h(t){return v.call(this,t).drawFrame(w.elements.canvas,w.data.canvasContext,t)}function p(t){var a=w.state;if(!a.animationIsPaused&&!a.animationIsStopped){if("function"!=typeof this.drawFrame)return console.info('The drawFrame "method" is not provided yet. Animation will not start.'),void this.stopAnimation();if(t&&this.clearCanvas(),++a.drawnFramesCount>g.drawingFramesCountLimitation)return console.log("Animation frame limitation met. Animation will stop now."),void this.stopAnimation();this.drawOneFrame(),y(F.drawNextFrame)}}function v(){var t=w.elements.canvas,a=w.data.canvasContext;return null===g.bgColor||""===g.bgColor||!1===g.bgColor?this.clearCanvas():(a.fillStyle=g.bgColor,a.fillRect(0,0,t.width,t.height)),this}var C={defaultBgColor:""},w={elements:{canvas:null},data:{canvasContextType:"2d",canvasContext:null},state:{animationStartWallTime:NaN,drawnFramesCount:0,animationIsStopped:!0,animationIsPaused:!1}},g={animationIsStopped:!0,animationIsPaused:!1,drawingFramesCountLimitation:NaN,timeOffset:0};if(t instanceof Node||(t="string"==typeof t?document.getElementById(t):wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike(t)?t[0]:null),t){if(!t.tagName.match(/canvas/i)){var b=t;t=document.createElement("canvas"),b.appendChild(t)}if(w.elements.canvas=t,"object"==typeof a&&"object"==typeof n&&a&&n||"string"==typeof a&&"string"==typeof n||"function"==typeof a&&"function"==typeof n)console&&console.error("Invalid arguments.");else{var y=window.requestAnimationFrame;i.call(this,a,n),this.state=g,this.config=e.bind(this),this.getData=o.bind(this),this.getCanvas=s.bind(this),this.clearCanvas=r.bind(this),this.stopAnimation=m.bind(this),this.startAnimation=l.bind(this),this.pauseAnimation=d.bind(this),this.resumeAnimation=c.bind(this),this.drawOneFrame=u.bind(this),this.drawOneFrameOnTime=f.bind(this);var F={drawNextFrame:p.bind(this)};w.state.animationIsStopped||this.startAnimation()}}else console&&console.error("Invalid canvas provided.")}wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike=function(t){return wlcCanvasAnimationController.isJQueryWrappedObject(t)||t[0]instanceof Node},wlcCanvasAnimationController.isJQueryWrappedObject=function(t){return!!Object.getPrototypeOf(t).jquery},wlcCanvasAnimationController.isValidColor=function(t){return!!t};
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
