!function(e){window.wlcCanvasAnimationController=function(){function e(g,N,O){function v(e,n){var t,r=/\s*(2d|3d|webgl)\s*/i;if("object"==typeof e&&e&&(t=e,"function"==typeof n?Q[o]=n:"string"==typeof n&&n.match(r)&&(M=n.trim().toLowerCase())),"object"==typeof n&&n&&(t=n,"function"==typeof e?Q[o]=e:"string"==typeof e&&e.match(r)&&(M=e.trim().toLowerCase())),E=g.getContext(M),C.call(Q,t),!G)return se()}function h(){var e={animationStartWallTime:ee,localTimeInSeconds:re,drawnFramesCount:oe};return e[a]=z,e[i]=V,e[u]=G,e[c]=H,e[s]=K,e[l]=U,e[f]=X,e[m]=ne,e[d]=te,e[p]=Y,e[y]=Z,e[w]=$,e[b]=_,{elements:{canvas:g},data:{canvasContext:E,canvasContextType:M},state:e}}function P(){var n={};return Object.defineProperty(n,a,{enumerable:!0,get:function(){return z},set:function(e){return z=!!e}}),Object.defineProperty(n,i,{enumerable:!0,get:function(){return V},set:function(n){return e[r](n)&&(V=n.trim().toLowerCase()),V}}),Object.defineProperty(n,u,{enumerable:!0,get:function(){return G},set:function(e){return e?S.call(Q):I.call(Q),G}}),Object.defineProperty(n,c,{enumerable:!0,get:function(){return H},set:function(){return console.warn("state."+c+" is a read-only property."),H}}),Object.defineProperty(n,s,{enumerable:!0,get:function(){return K},set:function(e){return e?x.call(Q):L.call(Q),K}}),Object.defineProperty(n,l,{enumerable:!0,get:function(){return U},set:function(){return console.warn("state."+l+" is a read-only property."),U}}),Object.defineProperty(n,f,{enumerable:!0,get:function(){return X},set:function(e){return e=parseFloat(e),isNaN(e)||(X=e),X}}),Object.defineProperty(n,p,{enumerable:!0,get:function(){return Y},set:function(e){return Y=!!e}}),Object.defineProperty(n,y,{enumerable:!0,get:function(){return Z},set:function(e){return e=parseFloat(e),isNaN(e)||(Z=e),Z}}),Object.defineProperty(n,w,{enumerable:!0,get:function(){return $},set:function(e){return e=parseFloat(e),!isNaN(e)&&e>=0&&($=Math.max(new Date,e)),$}}),Object.defineProperty(n,b,{enumerable:!0,get:function(){return _},set:function(e){return isNaN(e)?_=NaN:(e=parseInt(e),!isNaN(e)&&e>=0&&(_=e)),_}}),n}function C(e){return"function"==typeof(e=e||{})?(Q[o]=e,Q):("function"==typeof e[o]&&(Q[o]=e[o]),e.hasOwnProperty(a)&&(ie[a]=e[a]),e.hasOwnProperty(i)&&(ie[i]=e[i]),e.hasOwnProperty(u)&&(ie[u]=e[u]),e.hasOwnProperty(s)&&(ie[s]=e[s]),e.hasOwnProperty(f)&&(ie[f]=e[f]),e.hasOwnProperty(p)&&(ie[p]=e[p]),e.hasOwnProperty(y)&&(ie[y]=e[y]),e.hasOwnProperty(w)&&(ie[w]=e[w]),e.hasOwnProperty(b)&&(ie[b]=e[b]),Q)}function j(){return g}function A(){return E}function T(){return M}function F(){return me(),ce()}function D(){return E.clearRect(0,0,g.width,g.height),Q}function S(e){return H=!0,U=!1,K=!1,G=!1,e&&me(),Q}function I(e){return U||H?(H=!1,U=!1,ne=NaN,te=NaN,oe=0,ie[f]=0,ie[f]=e,ee=(new Date).getTime()-X,ue(),Q):Q}function x(){if(!H&&!U)return U=!0,K=!1,ne=new Date+0,Q}function L(){if(!H&&U)return te=new Date+0,X-=(te-ne)/1e3,U=!1,ue(),Q}function W(){if(!U&&!H){if(G&&ce(),"function"!=typeof Q[o])return console.info('The "drawFrame" method is not provided yet.',"Animation will not start."),void ce();var e=!1;++oe>_&&(e=!0,_=NaN,console.log("Animation","frame","limitation met."));var n=+new Date;if(n>=$&&(e=!0,$=NaN,console.log("Animation","time","limitation met.")),(re=(n-ee)/1e3+X)>=Z&&(e=!0,Z=NaN,console.log("Animation","local time","limitation met.")),e)return console.log("Animation will",Y?"pause":"stop","now."),Y?le():ce();if(K)return le();de(),ae(ue)}}function R(){return B.call(Q,re)}function q(e){return B.call(Q,e),x.call(Q)}function B(e){return J.call(Q,e)[o](g,E,e),Q}function J(){return z&&me(),V&&"transparent"!==V&&(E.fillStyle=V,E.fillRect(0,0,g.width,g.height)),Q}var Q=this,k={canvasDefaultBgColor:"",canvasDefaultContextType:"2d"},E=null,M=k.canvasDefaultContextType,z=!0,V=k.canvasDefaultBgColor,G=!1,H=!0,K=!1,U=!1,X=0,Y=!1,Z=NaN,$=NaN,_=NaN,ee=NaN,ne=NaN,te=NaN,re=0,oe=0;if("object"==typeof N&&"object"==typeof O&&N&&O||"string"==typeof N&&"string"==typeof O||"function"==typeof N&&"function"==typeof O)console&&console.error("Invalid arguments.");else if(g instanceof Node||(g="string"==typeof g?document.getElementById(g):e[t](g)?g[0]:null),g){if(g.tagName.match(/canvas/i)){if(g[n])return g[n]}else g=g.appendChild(document.createElement("canvas"));Object.defineProperty(g,n,{enumerable:!0,writable:!1,value:Q});var ae=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},ie=P.call(Q);Q.state=ie;var ue=W.bind(Q),ce=S.bind(Q),se=I.bind(Q),le=x.bind(Q),fe=L.bind(Q),me=D.bind(Q),de=R.bind(Q);Q.config=C.bind(Q),Q.getData=h.bind(Q),Q.getCanvas=j.bind(Q),Q.getCanvasContext=A.bind(Q),Q.getCanvasContextType=T.bind(Q),Q.stopAnimation=ce,Q.startAnimation=se,Q.pauseAnimation=le,Q.resumeAnimation=fe,Q.drawOneFrame=de,Q.drawOneFrameOnTime=q.bind(Q),Q.clearCanvas=F.bind(Q),v.call(Q,N,O)}else console&&console.error("Invalid canvas provided.")}var n="wlcCanvasAnimationControllerInstance",t="isJQueryWrappedObjectOrAlike",r="isValidColor",o="drawFrame",a="shouldClearCanvasBeforeDrawing",i="bgColor",u="animationShouldStop",c="animationIsStopped",s="animationShouldPause",l="animationIsPaused",f="timeOffsetInSeconds",m="wallTimeOfLatestPause",d="wallTimeOfLatestResume",p="shouldPauseButNotStopWhenAnyLimiationMet",y="localTimeAfterWhichToStopOrPauseAnimation",w="wallTimeAfterWhichToStopOrPauseAnimation",b="drawingFramesCountLimitation";return e[t]=function(n){return e.isJQueryWrappedObject(n)||!!n&&!!n[0]&&n[0]instanceof Node},e.isJQueryWrappedObject=function(e){var n=Object.getPrototypeOf(e);return!!n&&!!n.jquery},e[r]=function(e){return"string"==typeof e||!!e},e}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
