!function(e){window.wlcCanvasAnimationController=function(){function e(g,N,O){function h(e,n){var t,r=/\s*(2d|3d|webgl)\s*/i;if("object"==typeof e&&e&&(t=e,"function"==typeof n?J[o]=n:"string"==typeof n&&n.match(r)&&(E=n.trim().toLowerCase())),"object"==typeof n&&n&&(t=n,"function"==typeof e?J[o]=e:"string"==typeof e&&e.match(r)&&(E=e.trim().toLowerCase())),k=g.getContext(E),P.call(J,t),!V)return le()}function v(){var e={animationStartWallTime:ee,localTimeInSeconds:re,drawnFramesCount:oe};return e[a]=M,e[i]=z,e[u]=V,e[c]=G,e[l]=H,e[s]=K,e[f]=U,e[m]=ne,e[d]=te,e[p]=X,e[y]=Y,e[w]=Z,e[b]=$,{elements:{canvas:g},data:{canvasContext:k,canvasContextType:E},state:e}}function C(){var n={};return Object.defineProperty(n,a,{enumerable:!0,get:function(){return M},set:function(e){return M=!!e}}),Object.defineProperty(n,i,{enumerable:!0,get:function(){return z},set:function(n){return e[r](n)&&(z=n.trim().toLowerCase()),z}}),Object.defineProperty(n,u,{enumerable:!0,get:function(){return V},set:function(e){return e?S.call(J):I.call(J),V}}),Object.defineProperty(n,c,{enumerable:!0,get:function(){return G},set:function(){return console.warn("state."+c+" is a read-only property."),G}}),Object.defineProperty(n,l,{enumerable:!0,get:function(){return H},set:function(e){return e?x.call(J):L.call(J),H}}),Object.defineProperty(n,s,{enumerable:!0,get:function(){return K},set:function(){return console.warn("state."+s+" is a read-only property."),K}}),Object.defineProperty(n,f,{enumerable:!0,get:function(){return U},set:function(e){return e=parseFloat(e),isNaN(e)||(U=e),U}}),Object.defineProperty(n,p,{enumerable:!0,get:function(){return X},set:function(e){return X=!!e}}),Object.defineProperty(n,y,{enumerable:!0,get:function(){return Y},set:function(e){return e=parseFloat(e),isNaN(e)||(Y=e),Y}}),Object.defineProperty(n,w,{enumerable:!0,get:function(){return Z},set:function(e){return e=parseFloat(e),!isNaN(e)&&e>=0&&(Z=Math.max(new Date,e)),Z}}),Object.defineProperty(n,b,{enumerable:!0,get:function(){return $},set:function(e){return isNaN(e)?$=NaN:(e=parseInt(e),!isNaN(e)&&e>=0&&($=e)),$}}),n}function P(e){return"function"==typeof(e=e||{})?(J[o]=e,J):("function"==typeof e[o]&&(J[o]=e[o]),e.hasOwnProperty(a)&&(ie[a]=e[a]),e.hasOwnProperty(i)&&(ie[i]=e[i]),e.hasOwnProperty(u)&&(ie[u]=e[u]),e.hasOwnProperty(l)&&(ie[l]=e[l]),e.hasOwnProperty(f)&&(ie[f]=e[f]),e.hasOwnProperty(p)&&(ie[p]=e[p]),e.hasOwnProperty(y)&&(ie[y]=e[y]),e.hasOwnProperty(w)&&(ie[w]=e[w]),e.hasOwnProperty(b)&&(ie[b]=e[b]),J)}function A(){return g}function j(){return k}function T(){return E}function F(){return me(),ce()}function D(){return k.clearRect(0,0,g.width,g.height),J}function S(e){return G=!0,K=!1,H=!1,V=!1,e&&me(),J}function I(e){return K||G?(G=!1,K=!1,ne=NaN,te=NaN,oe=0,ie[f]=0,ie[f]=e,ee=(new Date).getTime()-U,ue(),J):J}function x(){if(!G&&!K)return K=!0,H=!1,ne=new Date+0,J}function L(){if(!G&&K)return te=new Date+0,U-=(te-ne)/1e3,K=!1,ue(),J}function W(){if(!K&&!G){if(V&&ce(),"function"!=typeof J[o])return console.info('The "drawFrame" method is not provided yet.',"Animation will not start."),void ce();var e=!1;++oe>$&&(e=!0,$=NaN,console.log("Animation","frame","limitation met."));var n=+new Date;if(n>=Z&&(e=!0,Z=NaN,console.log("Animation","time","limitation met.")),(re=(n-ee)/1e3+U)>=Y&&(e=!0,Y=NaN,console.log("Animation","local time","limitation met.")),e)return console.log("Animation will",X?"pause":"stop","now."),X?se():ce();if(H)return se();de(),ae(ue)}}function R(){return B.call(J,re)}function q(e){return B.call(J,e),x.call(J)}function B(e){return _.call(J,e)[o](g,k,e),J}function _(){return M&&me(),k.fillStyle=z,k.fillRect(0,0,g.width,g.height),J}var J=this,Q={canvasDefaultBgColor:"",canvasDefaultContextType:"2d"},k=null,E=Q.canvasDefaultContextType,M=!0,z=Q.canvasDefaultBgColor,V=!1,G=!0,H=!1,K=!1,U=0,X=!1,Y=NaN,Z=NaN,$=NaN,ee=NaN,ne=NaN,te=NaN,re=0,oe=0;if("object"==typeof N&&"object"==typeof O&&N&&O||"string"==typeof N&&"string"==typeof O||"function"==typeof N&&"function"==typeof O)console&&console.error("Invalid arguments.");else if(g instanceof Node||(g="string"==typeof g?document.getElementById(g):e[t](g)?g[0]:null),g){if(g.tagName.match(/canvas/i)){if(g[n])return g[n]}else g=g.appendChild(document.createElement("canvas"));Object.defineProperty(g,n,{enumerable:!0,writable:!1,value:J});var ae=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},ie=C.call(J);J.state=ie;var ue=W.bind(J),ce=S.bind(J),le=I.bind(J),se=x.bind(J),fe=L.bind(J),me=D.bind(J),de=R.bind(J);J.config=P.bind(J),J.getData=v.bind(J),J.getCanvas=A.bind(J),J.getCanvasContext=j.bind(J),J.getCanvasContextType=T.bind(J),J.stopAnimation=ce,J.startAnimation=le,J.pauseAnimation=se,J.resumeAnimation=fe,J.drawOneFrame=de,J.drawOneFrameOnTime=q.bind(J),J.clearCanvas=F.bind(J),h.call(J,N,O)}else console&&console.error("Invalid canvas provided.")}var n="wlcCanvasAnimationControllerInstance",t="isJQueryWrappedObjectOrAlike",r="isValidColor",o="drawFrame",a="shouldClearCanvasBeforeDrawing",i="bgColor",u="animationShouldStop",c="animationIsStopped",l="animationShouldPause",s="animationIsPaused",f="timeOffsetInSeconds",m="wallTimeOfLatestPause",d="wallTimeOfLatestResume",p="shouldPauseButNotStopWhenAnyLimiationMet",y="localTimeAfterWhichToStopOrPauseAnimation",w="wallTimeAfterWhichToStopOrPauseAnimation",b="drawingFramesCountLimitation";return e[t]=function(n){return e.isJQueryWrappedObject(n)||n[0]instanceof Node},e.isJQueryWrappedObject=function(e){return!!e.__proto__.jquery},e[r]=function(e){return"string"==typeof e||!!e},e}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
