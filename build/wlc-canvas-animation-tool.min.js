!function(t){window.wlcCanvasAnimationController=function(){function t(o,s,m){function c(t,n){var e,a,i=/\s*(2d|3d|webgl)\s*/i,r=h.data;"object"==typeof t&&t&&(a=t,"function"==typeof n?I.drawFrame=n:"string"==typeof n&&n.match(i)&&(e=n.trim().toLowerCase(),r.canvasContextType=e)),"object"==typeof n&&n&&(a=n,"function"==typeof t?I.drawFrame=t:"string"==typeof t&&t.match(i)&&(e=t.trim().toLowerCase(),r.canvasContextType=e)),r.canvasContext=h.elements.canvas.getContext(r.canvasContextType),x.bgColor=O.defaultBgColor,l.call(I,a)}function l(n){var e;return e=(n=n||{}).bgColor,t[a](e)&&(x.bgColor=e),e=parseFloat(n.timeOffset),isNaN(e)||(x.timeOffset=e),e=n.drawingFramesCountLimitation,isNaN(e)?x.drawingFramesCountLimitation=NaN:(e=parseInt(n.drawingFramesCountLimitation),isNaN(e)||(x.drawingFramesCountLimitation=e)),"function"==typeof(e=n.drawFrame)&&(I.drawFrame=n.drawFrame),I}function u(){var t,n={elements:{canvas:h.elements.canvas},data:{},state:{}};for(t in h.data)n.data[t]=h.data[t];for(t in h.state)n.state[t]=h.state[t];return n}function d(){return h.elements.canvas}function f(){return p.call(I).stopAnimation()}function p(){var t=h.elements.canvas;return h.data.canvasContext.clearRect(0,0,t.width,t.height),I}function v(t){var n=h.state;return n[i]=!0,n[r]=!1,t&&I.clearCanvas(),I}function w(t){var n=h.state;return!1===n[r]&&!1===n[i]?I:(n[r]=!1,n[i]=!1,n.animationStartWallTime=(new Date).getTime()-x.timeOffset,n.drawnFramesCount=0,L.drawNextFrame(t),I)}function C(){var t=h.state;if(!0!==t[i])return t[r]=!0,I}function g(){var t=h.state;if(!0!==t[i]&&!1!==t[r])return t[r]=!1,L.drawNextFrame(),I}function b(){var t=((new Date).getTime()-h.state.animationStartWallTime)/1e3;return F.call(I,t)}function y(t){return F.call(I,t).pauseAnimation()}function F(t){return N.call(I,t).drawFrame(h.elements.canvas,h.data.canvasContext,t)}function A(t){var n=h.state;if(!0!==n[r]&&!0!==n[i]){if("function"!=typeof I.drawFrame)return console.info('The drawFrame "method" is not provided yet.',"Animation will not start."),void I.stopAnimation();if(t&&I.clearCanvas(),++n.drawnFramesCount>x.drawingFramesCountLimitation)return console.log("Animation frame limitation met. Animation will stop now."),void I.stopAnimation();I.drawOneFrame(),T(L.drawNextFrame)}}function N(){var t=h.elements.canvas,n=h.data.canvasContext;return null===x.bgColor||""===x.bgColor||!1===x.bgColor?p.call(I):(n.fillStyle=x.bgColor,n.fillRect(0,0,t.width,t.height)),I}var O={defaultBgColor:""},h={elements:{},data:{canvasContextType:"2d"},state:{animationStartWallTime:NaN,drawnFramesCount:0,animationIsStopped:!0,animationIsPaused:!1}},x={drawingFramesCountLimitation:NaN,timeOffset:0};if("object"==typeof s&&"object"==typeof m&&s&&m||"string"==typeof s&&"string"==typeof m||"function"==typeof s&&"function"==typeof m)console&&console.error("Invalid arguments.");else if(o instanceof Node||(o="string"==typeof o?document.getElementById(o):t[e](o)?o[0]:null),o){if(o.tagName.match(/canvas/i)){if(o[n])return o[n]}else{var j=o;o=document.createElement("canvas"),j.appendChild(o)}h.elements.canvas=o;var T=window.requestAnimationFrame,I=this;Object.defineProperty(o,n,{enumerable:!0,writable:!1,value:I}),Object.defineProperty(x,i,{enumerable:!0,get:function(){return h.state[i]},set:function(t){return t?I.stopAnimation():I.startAnimation(),h.state[i]}}),Object.defineProperty(x,r,{enumerable:!0,get:function(){return h.state[r]},set:function(t){return t?I.pauseAnimation():I.resumeAnimation(),h.state[r]}}),c.call(I,s,m),I.state=x,I.config=l.bind(I),I.getData=u.bind(I),I.getCanvas=d.bind(I),I.clearCanvas=f.bind(I),I.stopAnimation=v.bind(I),I.startAnimation=w.bind(I),I.pauseAnimation=C.bind(I),I.resumeAnimation=g.bind(I),I.drawOneFrame=b.bind(I),I.drawOneFrameOnTime=y.bind(I);var L={drawNextFrame:A.bind(this)};h.state[i]||I.startAnimation()}else console&&console.error("Invalid canvas provided.")}var n="wlcCanvasAnimationControllerInstance",e="isJQueryWrappedObjectOrAlike",a="isValidColor",i="animationIsStopped",r="animationIsPaused";return t[e]=function(n){return t.isJQueryWrappedObject(n)||n[0]instanceof Node},t.isJQueryWrappedObject=function(t){return!!Object.__proto__.jquery},t[a]=function(t){return!!t},t}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
