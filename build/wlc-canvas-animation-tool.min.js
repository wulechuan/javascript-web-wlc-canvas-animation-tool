!function(t){window.wlcCanvasAnimationController=function(){function t(a,n,e){function i(t,a){var n,e,i=/\s*(2d|3d|webgl)\s*/i,r=b.data;"object"==typeof t&&t&&(e=t,"function"==typeof a?A.drawFrame=a:"string"==typeof a&&a.match(i)&&(n=a.trim().toLowerCase(),r.canvasContextType=n)),"object"==typeof a&&a&&(e=a,"function"==typeof t?A.drawFrame=t:"string"==typeof t&&t.match(i)&&(n=t.trim().toLowerCase(),r.canvasContextType=n)),r.canvasContext=b.elements.canvas.getContext(r.canvasContextType),y.bgColor=g.defaultBgColor,o.call(A,e)}function o(a){var n;return n=(a=a||{}).bgColor,t.isValidColor(n)&&(y.bgColor=n),n=parseFloat(a.timeOffset),isNaN(n)||(y.timeOffset=n),n=a.drawingFramesCountLimitation,isNaN(n)?y.drawingFramesCountLimitation=NaN:(n=parseInt(a.drawingFramesCountLimitation),isNaN(n)||(y.drawingFramesCountLimitation=n)),"function"==typeof(n=a.drawFrame)&&(A.drawFrame=a.drawFrame),A}function r(){var t,a={elements:{canvas:b.elements.canvas},data:{},state:{}};for(t in b.data)a.data[t]=b.data[t];for(t in b.state)a.state[t]=b.state[t];return a}function s(){return b.elements.canvas}function m(t){var a=b.elements.canvas;return b.data.canvasContext.clearRect(0,0,a.width,a.height),t&&A.stopAnimation(),A}function d(t){var a=b.state;return a.animationIsStopped=!0,a.animationIsPaused=!1,t&&A.clearCanvas(),A}function u(t){var a=b.state;return a.animationIsPaused||a.animationIsStopped?(a.animationIsPaused=!1,a.animationIsStopped=!1,a.animationStartWallTime=(new Date).getTime()-y.timeOffset,a.drawnFramesCount=0,N.drawNextFrame(t),A):A}function c(){var t=b.state;if(!t.animationIsStopped)return t.animationIsPaused=!0,A}function l(){var t=b.state;if(!t.animationIsStopped&&t.animationIsPaused)return t.animationIsPaused=!1,N.drawNextFrame(),A}function f(){var t=((new Date).getTime()-b.state.animationStartWallTime)/1e3;return v.call(A,t)}function p(t){return v.call(A,t).pauseAnimation()}function v(t){return w.call(A,t).drawFrame(b.elements.canvas,b.data.canvasContext,t)}function C(t){var a=b.state;if(!a.animationIsPaused&&!a.animationIsStopped){if("function"!=typeof A.drawFrame)return console.info('The drawFrame "method" is not provided yet.',"Animation will not start."),void A.stopAnimation();if(t&&A.clearCanvas(),++a.drawnFramesCount>y.drawingFramesCountLimitation)return console.log("Animation frame limitation met. Animation will stop now."),void A.stopAnimation();A.drawOneFrame(),I(N.drawNextFrame)}}function w(){var t=b.elements.canvas,a=b.data.canvasContext;return null===y.bgColor||""===y.bgColor||!1===y.bgColor?A.clearCanvas():(a.fillStyle=y.bgColor,a.fillRect(0,0,t.width,t.height)),A}var g={defaultBgColor:""},b={elements:{canvas:null},data:{canvasContextType:"2d",canvasContext:null},state:{animationStartWallTime:NaN,drawnFramesCount:0,animationIsStopped:!0,animationIsPaused:!1}},y={drawingFramesCountLimitation:NaN,timeOffset:0};if(a instanceof Node||(a="string"==typeof a?document.getElementById(a):t.isJQueryWrappedObjectOrAlike(a)?a[0]:null),a){if(!a.tagName.match(/canvas/i)){var F=a;a=document.createElement("canvas"),F.appendChild(a)}if(b.elements.canvas=a,"object"==typeof n&&"object"==typeof e&&n&&e||"string"==typeof n&&"string"==typeof e||"function"==typeof n&&"function"==typeof e)console&&console.error("Invalid arguments.");else{var I=window.requestAnimationFrame,A=this;Object.defineProperty(y,"animationIsStopped",{enumerable:!0,get:function(){return b.state.animationIsStopped},set:function(t){return t?A.stopAnimation():A.startAnimation(),b.state.animationIsStopped}}),Object.defineProperty(y,"animationIsPaused",{enumerable:!0,get:function(){return b.state.animationIsPaused},set:function(t){return t?A.pauseAnimation():A.resumeAnimation(),b.state.animationIsPaused}}),i.call(A,n,e),A.state=y,A.config=o.bind(A),A.getData=r.bind(A),A.getCanvas=s.bind(A),A.clearCanvas=m.bind(A),A.stopAnimation=d.bind(A),A.startAnimation=u.bind(A),A.pauseAnimation=c.bind(A),A.resumeAnimation=l.bind(A),A.drawOneFrame=f.bind(A),A.drawOneFrameOnTime=p.bind(A);var N={drawNextFrame:C.bind(this)};b.state.animationIsStopped||A.startAnimation()}}else console&&console.error("Invalid canvas provided.")}return t.isJQueryWrappedObjectOrAlike=function(a){return t.isJQueryWrappedObject(a)||a[0]instanceof Node},t.isJQueryWrappedObject=function(t){return!!Object.getPrototypeOf(t).jquery},t.isValidColor=function(t){return!!t},t}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
