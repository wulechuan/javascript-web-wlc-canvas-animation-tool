!function(n){window.wlcCanvasAnimationController=function(){function n(h,g,w){function O(n,e){var t,o=/\s*(2d|3d|webgl)\s*/i;if("object"==typeof n&&n&&(t=n,"function"==typeof e?M[r]=e:"string"==typeof e&&e.match(o)&&(E=e.trim().toLowerCase())),"object"==typeof e&&e&&(t=e,"function"==typeof n?M[r]=n:"string"==typeof n&&n.match(o)&&(E=n.trim().toLowerCase())),q=h.getContext(E),v.call(M,t),!V)return sn()}function N(){return{elements:{canvas:h},data:{canvasContext:q,canvasContextType:E},state:{shouldClearCanvasBeforeDrawing:R,bgColor:k,animationShouldStop:V,animationIsStopped:z,animationShouldPause:G,animationIsPaused:H,timeOffsetInSeconds:K,shouldPauseButNotStopWhenAnyLimiationMed:U,localTimeAfterWhichToStopOrPauseAnimation:Y,localDurationBeyondWhichToStopOrPauseAnimation:X,wallTimeAfterWhichToStopOrPauseAnimation:Z,drawingFramesCountLimitation:$,limiationThatCausePauseOrStop:nn,animationStartWallTime:en,localPlayingDurationInSeconds:tn,localTimeInSeconds:on,drawnFramesCount:rn}}}function P(){var e={};return Object.defineProperty(e,i,{enumerable:!0,get:function(){return R},set:function(n){return R=!!n}}),Object.defineProperty(e,a,{enumerable:!0,get:function(){return k},set:function(e){return n[o](e)&&(k=e.trim().toLowerCase()),k}}),Object.defineProperty(e,u,{enumerable:!0,get:function(){return V},set:function(n){return n?D.call(M):I.call(M),V}}),Object.defineProperty(e,c,{enumerable:!0,get:function(){return z},set:function(){return console.warn("state."+c+" is a read-only property."),z}}),Object.defineProperty(e,l,{enumerable:!0,get:function(){return G},set:function(n){return n?F.call(M):W.call(M),G}}),Object.defineProperty(e,s,{enumerable:!0,get:function(){return H},set:function(){return console.warn("state."+s+" is a read-only property."),H}}),Object.defineProperty(e,f,{enumerable:!0,get:function(){return K},set:function(n){return n=parseFloat(n),isNaN(n)||(K=n),K}}),Object.defineProperty(e,m,{enumerable:!0,get:function(){return U},set:function(n){return U=!!n}}),Object.defineProperty(e,d,{enumerable:!0,get:function(){return X},set:function(n){return n=parseFloat(n),!isNaN(n)&&n>=0&&(X=n),X}}),Object.defineProperty(e,p,{enumerable:!0,get:function(){return Y},set:function(n){return n=parseFloat(n),isNaN(n)||(Y=n),Y}}),Object.defineProperty(e,y,{enumerable:!0,get:function(){return Z},set:function(n){return n=parseFloat(n),!isNaN(n)&&n>=0&&(Z=Math.max(new Date,n)),Z}}),Object.defineProperty(e,b,{enumerable:!0,get:function(){return $},set:function(n){return isNaN(n)?$=NaN:(n=parseInt(n),!isNaN(n)&&n>=0&&($=n)),$}}),e}function v(n){return"function"==typeof(n=n||{})?(M[r]=n,M):("function"==typeof n[r]&&(M[r]=n[r]),n.hasOwnProperty(i)&&(un[i]=n[i]),n.hasOwnProperty(a)&&(un[a]=n[a]),n.hasOwnProperty(u)&&(un[u]=n[u]),n.hasOwnProperty(l)&&(un[l]=n[l]),n.hasOwnProperty(f)&&(un[f]=n[f]),n.hasOwnProperty(m)&&(un[m]=n[m]),n.hasOwnProperty(p)&&(un[p]=n[p]),n.hasOwnProperty(d)&&(un[d]=n[d]),n.hasOwnProperty(y)&&(un[y]=n[y]),n.hasOwnProperty(b)&&(un[b]=n[b]),M)}function C(){return h}function A(){return q}function S(){return E}function j(){return dn(),ln()}function T(){return q.clearRect(0,0,h.width,h.height),M}function D(n){return z=!0,H=!1,G=!1,V=!1,n&&dn(),M}function I(n){return H||z?(z=!1,H=!1,rn=0,tn=0,un[f]=0,un[f]=n,en=(new Date).getTime()-K,cn(),M):M}function F(){if(!z&&!H)return H=!0,G=!1,M}function W(){if(!z&&H)return H=!1,cn(),M}function B(){if(!H&&!z){if(V&&ln(),"function"!=typeof M[r])return console.info('The "drawFrame" method is not provided yet.',"Animation will not start."),void ln();var n=!1;++rn>$&&(n=!0,$=NaN,console.log("Animation","frame","limitation met."));var e=new Date;if(e>=Z&&(n=!0,Z=NaN,console.log("Animation","time","limitation met.")),(tn=(e-en)/1e3)>=X&&(n=!0,X=NaN,console.log("Animation","running duration","limitation met.")),(on=tn+K)>=Y&&(n=!0,Y=NaN,console.log("Animation","local time","limitation met.")),n)return console.log("Animation will",U?"pause":"stop","now."),U?fn():ln();if(G)return fn();pn(),an(cn)}}function x(){return _.call(M,on)}function L(n){return _.call(M,n),F.call(M)}function _(n){return J.call(M,n)[r](h,q,n),M}function J(){return R&&dn(),q.fillStyle=k,q.fillRect(0,0,h.width,h.height),M}var M=this,Q={canvasDefaultBgColor:"",canvasDefaultContextType:"2d"},q=null,E=Q.canvasDefaultContextType,R=!0,k=Q.canvasDefaultBgColor,V=!1,z=!0,G=!1,H=!1,K=0,U=!1,X=NaN,Y=NaN,Z=NaN,$=NaN,nn="",en=NaN,tn=0,on=0,rn=0;if("object"==typeof g&&"object"==typeof w&&g&&w||"string"==typeof g&&"string"==typeof w||"function"==typeof g&&"function"==typeof w)console&&console.error("Invalid arguments.");else if(h instanceof Node||(h="string"==typeof h?document.getElementById(h):n[t](h)?h[0]:null),h){if(h.tagName.match(/canvas/i)){if(h[e])return h[e]}else h=h.appendChild(document.createElement("canvas"));Object.defineProperty(h,e,{enumerable:!0,writable:!1,value:M});var an=window.requestAnimationFrame,un=P.call(M);M.state=un;var cn=B.bind(M),ln=D.bind(M),sn=I.bind(M),fn=F.bind(M),mn=W.bind(M),dn=T.bind(M),pn=x.bind(M);M.config=v.bind(M),M.getData=N.bind(M),M.getCanvas=C.bind(M),M.getCanvasContext=A.bind(M),M.getCanvasContextType=S.bind(M),M.stopAnimation=ln,M.startAnimation=sn,M.pauseAnimation=fn,M.resumeAnimation=mn,M.drawOneFrame=pn,M.drawOneFrameOnTime=L.bind(M),M.clearCanvas=j.bind(M),O.call(M,g,w)}else console&&console.error("Invalid canvas provided.")}var e="wlcCanvasAnimationControllerInstance",t="isJQueryWrappedObjectOrAlike",o="isValidColor",r="drawFrame",i="shouldClearCanvasBeforeDrawing",a="bgColor",u="animationShouldStop",c="animationIsStopped",l="animationShouldPause",s="animationIsPaused",f="timeOffsetInSeconds",m="shouldPauseButNotStopWhenAnyLimiationMed",d="localDurationBeyondWhichToStopOrPauseAnimation",p="localTimeAfterWhichToStopOrPauseAnimation",y="wallTimeAfterWhichToStopOrPauseAnimation",b="drawingFramesCountLimitation";return n[t]=function(e){return n.isJQueryWrappedObject(e)||e[0]instanceof Node},n.isJQueryWrappedObject=function(n){return!!n.__proto__.jquery},n[o]=function(n){return"string"==typeof n||!!n},n}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
