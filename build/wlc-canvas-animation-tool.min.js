function wlcCanvasAnimationController(t,n,a){function i(t,n){var a,i,o=/\s*(2d|3d|webgl)\s*/i,r=v.data;"object"==typeof t&&t&&(i=t,"function"==typeof n?this.drawFrame=n:"string"==typeof n&&n.match(o)&&(a=n.trim().toLowerCase(),r.canvasContextType=a)),"object"==typeof n&&n&&(i=n,"function"==typeof t?this.drawFrame=t:"string"==typeof t&&t.match(o)&&(a=t.trim().toLowerCase(),r.canvasContextType=a)),r.canvasContext=v.elements.canvas.getContext(r.canvasContextType),w.bgColor=C.defaultBgColor,e.call(this,i)}function e(t){var n;return n=(t=t||{}).bgColor,wlcCanvasAnimationController.isValidColor(n)&&(w.bgColor=n),n=parseFloat(t.timeOffset),isNaN(n)||(w.timeOffset=n),n=t.drawingFramesCountLimitation,isNaN(n)?w.drawingFramesCountLimitation=NaN:(n=parseInt(t.drawingFramesCountLimitation),isNaN(n)||(w.drawingFramesCountLimitation=n)),"function"==typeof(n=t.drawFrame)&&(this.drawFrame=t.drawFrame),this}function o(){var t={};for(var n in v)t[n]=v[n];return t}function r(){return v.elements.canvas}function s(t){var n=v.elements.canvas;return v.data.canvasContext.clearRect(0,0,n.width,n.height),t&&this.stopAnimation(),this}function m(t){return w.animationIsStopped=!0,w.animationIsPaused=!1,t&&this.clearCanvas(),this}function l(t){if(!w.animationIsPaused&&!w.animationIsStopped)return this;w.animationIsPaused=!1,w.animationIsStopped=!1;var n=v.data;return n.animationStartWallTime=(new Date).getTime()-w.timeOffset,n.drawnFramesCount=0,y.drawNextFrame(t),this}function d(){if(!w.animationIsStopped)return w.animationIsPaused=!0,this}function c(){if(!w.animationIsStopped&&w.animationIsPaused)return w.animationIsPaused=!1,y.drawNextFrame(),this}function u(){var t=((new Date).getTime()-v.data.animationStartWallTime)/1e3;return this.drawOneFrameOnTime(t),this}function f(t){return p.call(this,t),this.drawFrame(v.elements.canvas,v.data.canvasContext,t),this}function h(t){if(!w.animationIsPaused&&!w.animationIsStopped){if("function"!=typeof this.drawFrame)return console.info('The drawFrame "method" is not provided yet. Animation will not start.'),void this.stopAnimation();t&&this.clearCanvas();var n=v.data;if(++n.drawnFramesCount>w.drawingFramesCountLimitation)return console.log("Animation frame limitation met. Animation will stop now."),void this.stopAnimation();this.drawOneFrame(),b(y.drawNextFrame)}}function p(){var t=v.elements.canvas,n=v.data.canvasContext;null===w.bgColor||""===w.bgColor||!1===w.bgColor?this.clearCanvas():(n.fillStyle=w.bgColor,n.fillRect(0,0,t.width,t.height))}var C={defaultBgColor:""},v={elements:{canvas:null},data:{canvasContextType:"2d",canvasContext:null,animationStartWallTime:NaN,drawnFramesCount:0}},w={animationIsStopped:!0,animationIsPaused:!1,drawingFramesCountLimitation:NaN,timeOffset:0};if(t instanceof Node||(t="string"==typeof t?document.getElementById(t):wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike(t)?t[0]:null),t){if(!t.tagName.match(/canvas/i)){var g=t;t=document.createElement("canvas"),g.appendChild(t)}if(v.elements.canvas=t,"object"==typeof n&&"object"==typeof a&&n&&a||"string"==typeof n&&"string"==typeof a||"function"==typeof n&&"function"==typeof a)console&&console.error("Invalid arguments.");else{var b=window.requestAnimationFrame;i.call(this,n,a),this.state=w,this.config=e.bind(this),this.getData=o.bind(this),this.getCanvas=r.bind(this),this.clearCanvas=s.bind(this),this.stopAnimation=m.bind(this),this.startAnimation=l.bind(this),this.pauseAnimation=d.bind(this),this.resumeAnimation=c.bind(this),this.drawOneFrame=u.bind(this),this.drawOneFrameOnTime=f.bind(this);var y={drawNextFrame:h.bind(this)};w.animationIsStopped||this.startAnimation()}}else console&&console.error("Invalid canvas provided.")}wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike=function(t){return wlcCanvasAnimationController.isJQueryWrappedObject(t)||t[0]instanceof Node},wlcCanvasAnimationController.isJQueryWrappedObject=function(t){return!!Object.getPrototypeOf(t).jquery},wlcCanvasAnimationController.isValidColor=function(t){return!!t};
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
