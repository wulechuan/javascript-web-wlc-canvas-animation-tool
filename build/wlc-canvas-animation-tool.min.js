function wlcCanvasAnimationController(t,a,n){function e(t,a){var n,e,o=/\s*(2d|3d|webgl)\s*/i,r=g.data;"object"==typeof t&&t&&(e=t,"function"==typeof a?F.drawFrame=a:"string"==typeof a&&a.match(o)&&(n=a.trim().toLowerCase(),r.canvasContextType=n)),"object"==typeof a&&a&&(e=a,"function"==typeof t?F.drawFrame=t:"string"==typeof t&&t.match(o)&&(n=t.trim().toLowerCase(),r.canvasContextType=n)),r.canvasContext=g.elements.canvas.getContext(r.canvasContextType),b.bgColor=w.defaultBgColor,i.call(F,e)}function i(t){var a;return a=(t=t||{}).bgColor,wlcCanvasAnimationController.isValidColor(a)&&(b.bgColor=a),a=parseFloat(t.timeOffset),isNaN(a)||(b.timeOffset=a),a=t.drawingFramesCountLimitation,isNaN(a)?b.drawingFramesCountLimitation=NaN:(a=parseInt(t.drawingFramesCountLimitation),isNaN(a)||(b.drawingFramesCountLimitation=a)),"function"==typeof(a=t.drawFrame)&&(F.drawFrame=t.drawFrame),F}function o(){var t,a={elements:{canvas:g.elements.canvas},data:{},state:{}};for(t in g.data)a.data[t]=g.data[t];for(t in g.state)a.state[t]=g.state[t];return a}function r(){return g.elements.canvas}function s(t){var a=g.elements.canvas;return g.data.canvasContext.clearRect(0,0,a.width,a.height),t&&F.stopAnimation(),F}function m(t){var a=g.state;return a.animationIsStopped=!0,a.animationIsPaused=!1,t&&F.clearCanvas(),F}function l(t){var a=g.state;return a.animationIsPaused||a.animationIsStopped?(a.animationIsPaused=!1,a.animationIsStopped=!1,a.animationStartWallTime=(new Date).getTime()-b.timeOffset,a.drawnFramesCount=0,I.drawNextFrame(t),F):F}function d(){var t=g.state;if(!t.animationIsStopped)return t.animationIsPaused=!0,F}function c(){var t=g.state;if(!t.animationIsStopped&&t.animationIsPaused)return t.animationIsPaused=!1,I.drawNextFrame(),F}function u(){var t=((new Date).getTime()-g.state.animationStartWallTime)/1e3;return p.call(F,t)}function f(t){return p.call(F,t).pauseAnimation()}function p(t){return C.call(F,t).drawFrame(g.elements.canvas,g.data.canvasContext,t)}function v(t){var a=g.state;if(!a.animationIsPaused&&!a.animationIsStopped){if("function"!=typeof F.drawFrame)return console.info('The drawFrame "method" is not provided yet.',"Animation will not start."),void F.stopAnimation();if(t&&F.clearCanvas(),++a.drawnFramesCount>b.drawingFramesCountLimitation)return console.log("Animation frame limitation met. Animation will stop now."),void F.stopAnimation();F.drawOneFrame(),A(I.drawNextFrame)}}function C(){var t=g.elements.canvas,a=g.data.canvasContext;return null===b.bgColor||""===b.bgColor||!1===b.bgColor?F.clearCanvas():(a.fillStyle=b.bgColor,a.fillRect(0,0,t.width,t.height)),F}var w={defaultBgColor:""},g={elements:{canvas:null},data:{canvasContextType:"2d",canvasContext:null},state:{animationStartWallTime:NaN,drawnFramesCount:0,animationIsStopped:!0,animationIsPaused:!1}},b={drawingFramesCountLimitation:NaN,timeOffset:0};if(t instanceof Node||(t="string"==typeof t?document.getElementById(t):wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike(t)?t[0]:null),t){if(!t.tagName.match(/canvas/i)){var y=t;t=document.createElement("canvas"),y.appendChild(t)}if(g.elements.canvas=t,"object"==typeof a&&"object"==typeof n&&a&&n||"string"==typeof a&&"string"==typeof n||"function"==typeof a&&"function"==typeof n)console&&console.error("Invalid arguments.");else{var A=window.requestAnimationFrame,F=this;Object.defineProperty(b,"animationIsStopped",{configurable:!1,enumerable:!0,get:function(){return g.state.animationIsStopped},set:function(t){return t?F.stopAnimation():F.startAnimation(),g.state.animationIsStopped}}),Object.defineProperty(b,"animationIsPaused",{configurable:!1,enumerable:!0,get:function(){return g.state.animationIsPaused},set:function(t){return t?F.pauseAnimation():F.resumeAnimation(),g.state.animationIsPaused}}),e.call(F,a,n),F.state=b,F.config=i.bind(F),F.getData=o.bind(F),F.getCanvas=r.bind(F),F.clearCanvas=s.bind(F),F.stopAnimation=m.bind(F),F.startAnimation=l.bind(F),F.pauseAnimation=d.bind(F),F.resumeAnimation=c.bind(F),F.drawOneFrame=u.bind(F),F.drawOneFrameOnTime=f.bind(F);var I={drawNextFrame:v.bind(this)};g.state.animationIsStopped||F.startAnimation()}}else console&&console.error("Invalid canvas provided.")}wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike=function(t){return wlcCanvasAnimationController.isJQueryWrappedObject(t)||t[0]instanceof Node},wlcCanvasAnimationController.isJQueryWrappedObject=function(t){return!!Object.getPrototypeOf(t).jquery},wlcCanvasAnimationController.isValidColor=function(t){return!!t};
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
