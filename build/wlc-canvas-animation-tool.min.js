!function(n){window.wlcCanvasAnimationController=function(){function n(f,d,m){function p(n,e){var t,r=/\s*(2d|3d|webgl)\s*/i;if("object"==typeof n&&n&&(t=n,"function"==typeof e?x.drawFrame=e:"string"==typeof e&&e.match(r)&&(_=e.trim().toLowerCase())),"object"==typeof e&&e&&(t=e,"function"==typeof n?x.drawFrame=n:"string"==typeof n&&n.match(r)&&(_=n.trim().toLowerCase())),W=f.getContext(_),w.call(x,t),!J)return Y()}function y(){return{elements:{canvas:f},data:{canvasContext:W,canvasContextType:_},state:{animationShouldStop:J,animationIsStopped:Q,animationShouldPause:q,animationIsPaused:E,animationStartWallTime:R,timeOffsetInSeconds:k,localPlayingDurationInSeconds:V,localTimeInSeconds:z,drawnFramesCount:G,drawingFramesCountLimitation:H}}}function b(){var e={};return Object.defineProperty(e,o,{enumerable:!0,get:function(){return Q},set:function(){return console.warn("state."+o+" is a read-only property."),Q}}),Object.defineProperty(e,u,{enumerable:!0,get:function(){return E},set:function(){return console.warn("state."+u+" is a read-only property."),E}}),Object.defineProperty(e,a,{enumerable:!0,get:function(){return J},set:function(n){return n?P.call(x):j.call(x),J}}),Object.defineProperty(e,i,{enumerable:!0,get:function(){return q},set:function(n){return n?F.call(x):N.call(x),q}}),Object.defineProperty(e,c,{enumerable:!0,get:function(){return H},set:function(n){return isNaN(n)?H=NaN:(n=parseInt(n),isNaN(n)||(H=n)),H}}),Object.defineProperty(e,l,{enumerable:!0,get:function(){return k},set:function(n){return n=parseFloat(n),isNaN(n)||(k=n),k}}),Object.defineProperty(e,s,{enumerable:!0,get:function(){return B},set:function(e){return n[r](e)&&(B=e.trim().toLowerCase()),B}}),e}function w(n){return(n=n||{}).hasOwnProperty(a)&&(M[a]=n[a]),n.hasOwnProperty(i)&&(M[i]=n[i]),n.hasOwnProperty(c)&&(M[c]=n[c]),n.hasOwnProperty(l)&&(M[l]=n[l]),n.hasOwnProperty(s)&&(M[s]=n[s]),"function"==typeof n.drawFrame&&(x.drawFrame=n.drawFrame),x}function g(){return f}function v(){return W}function C(){return _}function h(){return nn(),X()}function O(){return W.clearRect(0,0,f.width,f.height),x}function P(n){return Q=!0,E=!1,q=!1,J=!1,n&&nn(),x}function j(n){return E||Q?(Q=!1,E=!1,G=0,V=0,M[l]=0,M[l]=n,R=(new Date).getTime()-k,U(),x):x}function F(){if(!Q&&!E)return E=!0,q=!1,x}function N(){if(!Q&&E)return E=!1,U(),x}function S(){if(!E&&!Q){if(J&&X(),"function"!=typeof x.drawFrame)return console.info('The "drawFrame" method is not provided yet.',"Animation will not start."),void X();if(++G>H)return console.log("Animation frame limitation met. Animation will stop now."),void X();V=(new Date-R)/1e3,z=V+k,q&&Z(),en(),K(U)}}function I(){return T.call(x,z)}function A(n){return T.call(x,n),F.call(x)}function T(n){return D.call(x,n).drawFrame(f,W,n),x}function D(){return null===B||""===B||!1===B?O.call(x):"transparent"!==B&&(W.fillStyle=B,W.fillRect(0,0,f.width,f.height)),x}var x=this,L={canvasDefaultBgColor:"",canvasDefaultContextType:"2d"},W=null,_=L.canvasDefaultContextType,B=L.canvasDefaultBgColor,J=!1,Q=!0,q=!1,E=!1,R=NaN,k=0,V=0,z=0,G=0,H=NaN;if("object"==typeof d&&"object"==typeof m&&d&&m||"string"==typeof d&&"string"==typeof m||"function"==typeof d&&"function"==typeof m)console&&console.error("Invalid arguments.");else if(f instanceof Node||(f="string"==typeof f?document.getElementById(f):n[t](f)?f[0]:null),f){if(f.tagName.match(/canvas/i)){if(f[e])return f[e]}else f=f.appendChild(document.createElement("canvas"));Object.defineProperty(f,e,{enumerable:!0,writable:!1,value:x});var K=window.requestAnimationFrame,M=b.call(x);x.state=M;var U=S.bind(x),X=P.bind(x),Y=j.bind(x),Z=F.bind(x),$=N.bind(x),nn=h.bind(x),en=I.bind(x);x.config=w.bind(x),x.getData=y.bind(x),x.getCanvas=g.bind(x),x.getCanvasContext=v.bind(x),x.getCanvasContextType=C.bind(x),x.clearCanvas=nn,x.stopAnimation=X,x.startAnimation=Y,x.pauseAnimation=Z,x.resumeAnimation=$,x.drawOneFrame=en,x.drawOneFrameOnTime=A.bind(x),p.call(x,d,m)}else console&&console.error("Invalid canvas provided.")}var e="wlcCanvasAnimationControllerInstance",t="isJQueryWrappedObjectOrAlike",r="isValidColor",a="animationShouldStop",o="animationIsStopped",i="animationShouldPause",u="animationIsPaused",c="drawingFramesCountLimitation",l="timeOffsetInSeconds",s="bgColor";return n[t]=function(e){return n.isJQueryWrappedObject(e)||e[0]instanceof Node},n.isJQueryWrappedObject=function(n){return!!n.__proto__.jquery},n[r]=function(n){return!!n},n}()}();
//# sourceMappingURL=wlc-canvas-animation-tool.min.js.map
