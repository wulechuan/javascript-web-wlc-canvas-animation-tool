{"version":3,"sources":["wlc-canvas-animation-tool.js"],"names":["wlcCanvasAnimationController","canvas","a","b","_init","canvasContextType","initOptions","regExpCanvasContextType","data","privateData","this","drawFrame","match","trim","toLowerCase","canvasContext","elements","getContext","state","bgColor","settings","defaultBgColor","config","call","options","_inputTemp","isValidColor","parseFloat","timeOffset","isNaN","drawingFramesCountLimitation","NaN","parseInt","getData","key","copy","getCanvas","clearCanvas","shouldStopAnimation","clearRect","width","height","stopAnimation","shouldClearCanvas","privateState","animationIsStopped","animationIsPaused","startAnimation","shouldClearCanvasBeforeDrawing","animationStartWallTime","Date","getTime","drawnFramesCount","boundMethods","drawNextFrame","pauseAnimation","resumeAnimation","drawOneFrame","localTimeInSeconds","_drawOneFrameOnTime","drawOneFrameOnTimeViaMethod","_drawOrClearBg","_drawNextFrame","console","info","log","requestAnimationFrame","ctx","fillStyle","fillRect","Node","document","getElementById","isJQueryWrappedObjectOrAlike","tagName","canvasContainer","createElement","appendChild","error","window","thisInstance","Object","defineProperty","configurable","enumerable","get","set","newValue","bind","drawOneFrameOnTime","object","isJQueryWrappedObject","getPrototypeOf","jquery","color"],"mappings":"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","file":"wlc-canvas-animation-tool.min.js","sourcesContent":["/**\n * Constructor for create an instant object that helps making canvas animations.\n * \n * @constructor\n * @author 吴乐川 <wulechuan@live.com>\n * @argument {!(string|Node|jQueryObject)} canvas the canvas element,\n * \tor the container object that is NOT a canvas element,\n *  under which a new canvas element will be created automatically.\n * \n * @argument {?(string|function|object)} a Multi-purpose.\n * \t\tIf 1 argument is provided:\n * \t\t>\tIf it's a string, it's treated as the canvas context type;\n * \t\t\tIf it's an object, it's treated as the \"options\" objet;\n * \t\t\tIf it's a function, it's treated as the \"drawFrame\" method.\n * \n * \t\tIf 2 arguments are provided:\n * \t\t>\tThe one that is a string is treated as the canvas context type;\n * \t\t\tThe one that is an object is treated as the \"options\" objet;\n * \t\t\tThe one that is a function is treated as the \"drawFrame\" method;\n * \n * \t\t\tTf both are of the same type, e. g. both are functions,\n * \t\t\tan error will be logged and construction will fail.\n * \n * \t\t\tIf a function is provided, while the other argument being an object,\n * \t\t\tand contains a function property named \"drawFrame\",\n * \t\t\tthen the property of the object argument is taken,\n * \t\t\tthe function argument is ignored.\n * \n * @argument {?(string|function|object)} b Multi-purpose.\n * >\tSee argument a.\n * \n * \n * @example\n * \tvar myCanvas = document.querySelector('#my-canvas');\n *  var myAniCtrl = new wlcCanvasAnimationController(\n * \t\tmyCanvas,\n * \t\tfunction myFancyDrawingFunction () { ... }\n *  );\n * \n * @example\n * \tvar myCanvas = document.querySelector('#my-canvas');\n *  var myAniCtrl = new wlcCanvasAnimationController(\n * \t\tmyCanvas,\n * \t\t{\n * \t\t\tdrawFrame: function myFancyDrawingFunction() { ... }\n * \t\t}\n *  );\n * \n * @example\n * \tvar myCanvas = document.querySelector('#my-canvas');\n *  var myAniCtrl = new wlcCanvasAnimationController(\n * \t\tmyCanvas,\n * \t\t'3d',\n * \t\t{\n * \t\t\tdrawFrame: function myFancyDrawingFunction() { ... }\n * \t\t}\n *  );\n */\nfunction wlcCanvasAnimationController(canvas, a, b) {\n\tvar settings = {\n\t\tdefaultBgColor: ''\n\t};\n\n\tvar privateData = {\n\t\telements: {\n\t\t\tcanvas: null\n\t\t},\n\t\tdata: {\n\t\t\tcanvasContextType: '2d',\n\t\t\tcanvasContext: null,\n\t\t},\n\t\tstate: {\n\t\t\tanimationStartWallTime: NaN,\n\t\t\tdrawnFramesCount: 0,\n\t\t\tanimationIsStopped: true,\n\t\t\tanimationIsPaused: false\n\t\t}\n\t};\n\n\tvar state = {\n\t\tdrawingFramesCountLimitation: NaN, // In case we need to draw like 1000 frames and then stop there for ever\n\t\ttimeOffset: 0 // in milliseconds\n\t};\n\n\n\n\n\n\n\tif (!(canvas instanceof Node)) {\n\t\tif (typeof canvas === 'string') {\n\t\t\tcanvas = document.getElementById(canvas);\n\t\t} else if (wlcCanvasAnimationController.isJQueryWrappedObjectOrAlike(canvas)) {\n\t\t\tcanvas = canvas[0];\n\t\t} else {\n\t\t\tcanvas = null;\n\t\t}\n\t}\n\n\tif (!canvas) {\n\t\tconsole && console.error('Invalid canvas provided.');\n\t\treturn;\n\t}\n\n\tif (!canvas.tagName.match(/canvas/i)) {\n\t\tvar canvasContainer = canvas;\n\t\tcanvas = document.createElement('canvas');\n\t\tcanvasContainer.appendChild(canvas);\n\t}\n\n\tprivateData.elements.canvas = canvas;\n\n\tif ((typeof a === 'object' && typeof b === 'object' && a && b)\n\t\t|| (typeof a === 'string' && typeof b === 'string')\n\t\t|| (typeof a === 'function' && typeof b === 'function')\n\t) {\n\t\tconsole && console.error('Invalid arguments.');\n\t\treturn;\n\t}\n\n\n\n\tvar requestAnimationFrame = window.requestAnimationFrame;\n\tvar thisInstance = this;\n\n\tObject.defineProperty(state, 'animationIsStopped', {\n\t\tconfigurable: false,\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn privateData.state.animationIsStopped;\n\t\t},\n\t\tset: function (newValue) {\n\t\t\tif (newValue) {\n\t\t\t\tthisInstance.stopAnimation();\n\t\t\t} else {\n\t\t\t\tthisInstance.startAnimation();\n\t\t\t}\n\n\t\t\treturn privateData.state.animationIsStopped;\n\t\t}\n\t});\n\n\tObject.defineProperty(state, 'animationIsPaused', {\n\t\tconfigurable: false,\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn privateData.state.animationIsPaused;\n\t\t},\n\t\tset: function (newValue) {\n\t\t\tif (newValue) {\n\t\t\t\tthisInstance.pauseAnimation();\n\t\t\t} else {\n\t\t\t\tthisInstance.resumeAnimation();\n\t\t\t}\n\n\t\t\treturn privateData.state.animationIsPaused;\n\t\t}\n\t});\n\n\t_init.call(this, a, b);\n\n\n\tthis.state = state;\n\tthis.config = config.bind(this);\n\tthis.getData = getData.bind(this);\n\tthis.getCanvas = getCanvas.bind(this);\n\tthis.clearCanvas = clearCanvas.bind(this);\n\n\tthis.stopAnimation = stopAnimation.bind(this);\n\tthis.startAnimation = startAnimation.bind(this);\n\tthis.pauseAnimation = pauseAnimation.bind(this);\n\tthis.resumeAnimation = resumeAnimation.bind(this);\n\n\tthis.drawOneFrame = drawOneFrame.bind(this);\n\tthis.drawOneFrameOnTime = drawOneFrameOnTimeViaMethod.bind(this);\n\n\tvar boundMethods = {\n\t\tdrawNextFrame: _drawNextFrame.bind(this)\n\t};\n\n\n\tif (!privateData.state.animationIsStopped) {\n\t\tthis.startAnimation();\n\t}\n\n\n\n\n\n\n\tfunction _init(a, b) {\n\t\tvar canvasContextType, initOptions;\n\t\tvar regExpCanvasContextType = /\\s*(2d|3d|webgl)\\s*/i;\n\t\tvar data = privateData.data;\n\n\t\tif (typeof a === 'object' && a) {\n\t\t\tinitOptions = a;\n\n\t\t\tif (typeof b === 'function') {\n\t\t\t\tthis.drawFrame = b;\n\t\t\t} else if (typeof b === 'string' && b.match(regExpCanvasContextType)) {\n\t\t\t\tcanvasContextType = b.trim().toLowerCase();\n\t\t\t\tdata.canvasContextType = canvasContextType;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof b === 'object' && b) {\n\t\t\tinitOptions = b;\n\n\t\t\tif (typeof a === 'function') {\n\t\t\t\tthis.drawFrame = a;\n\t\t\t} else if (typeof a === 'string' && a.match(regExpCanvasContextType)) {\n\t\t\t\tcanvasContextType = a.trim().toLowerCase();\n\t\t\t\tdata.canvasContextType = canvasContextType;\n\t\t\t}\n\t\t}\n\n\n\t\tdata.canvasContext = privateData.elements.canvas.getContext(data.canvasContextType);\n\t\tstate.bgColor = settings.defaultBgColor;\n\n\t\tconfig.call(this, initOptions);\n\n\t}\n\n\tfunction config(options) {\n\t\toptions = options || {};\n\t\tvar _inputTemp;\n\n\n\n\t\t_inputTemp = options.bgColor;\n\t\tif (wlcCanvasAnimationController.isValidColor(_inputTemp)) {\n\t\t\tstate.bgColor = _inputTemp;\n\t\t}\n\n\n\n\t\t_inputTemp = parseFloat(options.timeOffset);\n\t\tif (!isNaN(_inputTemp)) {\n\t\t\tstate.timeOffset = _inputTemp;\n\t\t}\n\n\n\n\t\t_inputTemp = options.drawingFramesCountLimitation;\n\t\tif (isNaN(_inputTemp)) {\n\t\t\tstate.drawingFramesCountLimitation = NaN;\n\t\t} else {\n\t\t\t_inputTemp = parseInt(options.drawingFramesCountLimitation);\n\t\t\tif (!isNaN(_inputTemp)) {\n\t\t\t\tstate.drawingFramesCountLimitation = _inputTemp;\n\t\t\t}\n\t\t}\n\n\n\t\t_inputTemp = options.drawFrame;\n\t\tif (typeof _inputTemp === 'function') {\n\t\t\tthis.drawFrame = options.drawFrame;\n\t\t}\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction getData() {\n\t\tvar copy = {\n\t\t\telements: {\n\t\t\t\tcanvas: privateData.elements.canvas\n\t\t\t},\n\t\t\tdata: {},\n\t\t\tstate: {}\n\t\t};\n\n\t\tvar key;\n\n\t\tfor (key in privateData.data) {\n\t\t\tcopy.data[key] = privateData.data[key];\n\t\t}\n\n\t\tfor (key in privateData.state) {\n\t\t\tcopy.state[key] = privateData.state[key];\n\t\t}\n\n\t\treturn copy;\n\t}\n\n\tfunction getCanvas() {\n\t\treturn privateData.elements.canvas;\n\t}\n\n\tfunction clearCanvas(shouldStopAnimation) {\n\t\tvar canvas = privateData.elements.canvas;\n\t\tprivateData.data.canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\tif (shouldStopAnimation) this.stopAnimation();\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction stopAnimation(shouldClearCanvas) {\n\t\tvar privateState = privateData.state;\n\t\tprivateState.animationIsStopped = true;\n\t\tprivateState.animationIsPaused = false;\n\n\t\tif (shouldClearCanvas) this.clearCanvas();\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction startAnimation(shouldClearCanvasBeforeDrawing) {\n\t\tvar privateState = privateData.state;\n\t\tif (!privateState.animationIsPaused && !privateState.animationIsStopped) {\n\t\t\treturn this;\n\t\t}\n\n\t\tprivateState.animationIsPaused = false;\n\t\tprivateState.animationIsStopped = false;\n\n\t\tprivateState.animationStartWallTime = new Date().getTime() - state.timeOffset;\n\t\tprivateState.drawnFramesCount = 0;\n\n\t\tboundMethods.drawNextFrame(shouldClearCanvasBeforeDrawing);\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction pauseAnimation() {\n\t\tvar privateState = privateData.state;\n\t\tif (privateState.animationIsStopped) return;\n\n\t\tprivateState.animationIsPaused = true;\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction resumeAnimation() {\n\t\tvar privateState = privateData.state;\n\t\tif (privateState.animationIsStopped || !privateState.animationIsPaused) return;\n\n\t\tprivateState.animationIsPaused = false;\n\t\tboundMethods.drawNextFrame();\n\n\t\treturn this; // for chaining invocations\n\t}\n\n\tfunction drawOneFrame() {\n\t\tvar localTimeInSeconds = (new Date().getTime() - privateData.state.animationStartWallTime) / 1000;\n\t\treturn _drawOneFrameOnTime.call(this, localTimeInSeconds);\n\t}\n\n\tfunction drawOneFrameOnTimeViaMethod(localTimeInSeconds) {\n\t\treturn _drawOneFrameOnTime.call(this, localTimeInSeconds).pauseAnimation();\t\t\n\t}\n\n\tfunction _drawOneFrameOnTime(localTimeInSeconds) {\n\t\treturn _drawOrClearBg.call(this, localTimeInSeconds)\n\t\t\t.drawFrame(\n\t\t\t\tprivateData.elements.canvas,\n\t\t\t\tprivateData.data.canvasContext,\n\t\t\t\tlocalTimeInSeconds\n\t\t\t);\n\t}\n\n\tfunction _drawNextFrame(shouldClearCanvasBeforeDrawing) {\n\t\tvar privateState = privateData.state;\n\t\tif (privateState.animationIsPaused || privateState.animationIsStopped) return;\n\n\t\tif (typeof this.drawFrame !== 'function') {\n\t\t\tconsole.info('The drawFrame \"method\" is not provided yet. Animation will not start.');\n\t\t\tthis.stopAnimation();\n\t\t\treturn;\n\t\t}\n\n\t\t// I'd like to clear canvas also *BEFORE* checking the \"drawnFramesCount\".\n\t\tif (shouldClearCanvasBeforeDrawing) this.clearCanvas();\n\n\n\t\tprivateState.drawnFramesCount++;\n\t\tif (privateState.drawnFramesCount > state.drawingFramesCountLimitation) {\n\t\t\tconsole.log('Animation frame limitation met. Animation will stop now.');\n\t\t\tthis.stopAnimation();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.drawOneFrame();\n\n\t\trequestAnimationFrame(boundMethods.drawNextFrame);\n\t}\n\n\tfunction _drawOrClearBg() {\n\t\tvar canvas = privateData.elements.canvas;\n\t\tvar ctx = privateData.data.canvasContext;\n\n\t\tif (state.bgColor === null || state.bgColor === '' || state.bgColor === false) {\n\t\t\tthis.clearCanvas();\n\t\t} else {\n\t\t\tctx.fillStyle = state.bgColor;\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t}\n\n\t\treturn this;\n\t}\n}\n\nwlcCanvasAnimationController.isJQueryWrappedObjectOrAlike = function (object) {\n\treturn wlcCanvasAnimationController.isJQueryWrappedObject(object)\n\t\t|| object[0] instanceof Node;\n};\n\nwlcCanvasAnimationController.isJQueryWrappedObject = function (object) {\n\treturn !!Object.getPrototypeOf(object).jquery;\n};\n\nwlcCanvasAnimationController.isValidColor = function (color) {\n\treturn !!color;\n};\n"]}